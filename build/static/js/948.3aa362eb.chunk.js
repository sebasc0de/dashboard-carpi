"use strict";(self.webpackChunkberry_material_react_free=self.webpackChunkberry_material_react_free||[]).push([[948],{1882:function(e,t,r){r.d(t,{v:function(){return n}});const o=r(7).T5+"/api/v1/product/",n={GET_ALL_PRODUCTS:o+"?publish=false",GET_BY_ID:o,EDIT_BY_ID:o}},8009:function(e,t,r){r.d(t,{I4:function(){return o},hn:function(){return n}});const o={position:"bottom-left",hideProgressBar:!0,closeButton:!1,closeOnClick:!1,style:{boxShadow:"none",background:"#198754",color:"white",fontWeight:"600",fontSize:"0.745rem"}},n={position:"bottom-left",hideProgressBar:!0,closeButton:!1,closeOnClick:!1,style:{boxShadow:"none",background:"#ef3443",color:"white",fontSize:"0.8rem"}}},5177:function(e,t,r){var o=r(2791);t.Z=()=>{const e=(0,o.useRef)(!0);return(0,o.useEffect)((()=>()=>{e.current=!1}),[]),e}},2412:function(e,t,r){var o=r(3263),n=r(1882);t.Z=new class{async getAll(){return(await o.Z.get(n.v.GET_ALL_PRODUCTS)).data}async getById(e){return(await o.Z.get(`${n.v.GET_BY_ID}/${e}`)).data}}},9948:function(e,t,r){r.r(t),r.d(t,{default:function(){return E}});var o=r(2791),n=r(6871),i=r(3735),d=r(6934),a=r(9955),s=r(3767),c=r(890),l=r(3263),u=r(1882);var h=new class{constructor(){}async toggleVisibility(e,t,r){try{const o=await l.Z.patch(u.v.EDIT_BY_ID+e,{published:t},{headers:{Authorization:`Bearer ${r}`}});console.log(o)}catch(o){console.log(o)}}async editById(e,t,r){return await l.Z.patch(u.v.EDIT_BY_ID+e,t,{headers:{Authorization:`Bearer ${r}`}})}async create(){try{return l.Z.patch()}catch(e){}}},p=r(5985),m=r(8009),x=r(184);const g=(0,d.ZP)(a.Z)((e=>{let{theme:t}=e;return{width:28,height:16,padding:0,display:"flex","&:active":{"& .MuiSwitch-thumb":{width:15},"& .MuiSwitch-switchBase.Mui-checked":{transform:"translateX(9px)"}},"& .MuiSwitch-switchBase":{padding:2,"&.Mui-checked":{transform:"translateX(12px)",color:"#fff","& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#177ddc":"#1890ff"}}},"& .MuiSwitch-thumb":{boxShadow:"0 2px 4px 0 rgb(0 35 11 / 20%)",width:12,height:12,borderRadius:6,transition:t.transitions.create(["width"],{duration:200})},"& .MuiSwitch-track":{borderRadius:8,opacity:1,backgroundColor:"dark"===t.palette.mode?"rgba(255,255,255,.35)":"rgba(0,0,0,.25)",boxSizing:"border-box"}}}));function Z(e){let{id:t,token:r}=e;const[n,i]=(0,o.useState)(!1);return(0,x.jsxs)(s.Z,{onChange:async()=>{i(!n);try{await h.toggleVisibility(t,n,r)&&(0,p.Am)("La accion se realizo con exito",m.I4)}catch(e){alert("mal")}},direction:"row",spacing:1,alignItems:"center",children:[(0,x.jsx)(c.Z,{children:"Escondido"}),(0,x.jsx)(g,{defaultChecked:!0,inputProps:{"aria-label":"ant design"}}),(0,x.jsx)(c.Z,{children:"Visible en tienda"})]})}var y=r(2412),j=r(9434),f=r(3967),b=r(8096),w=r(4925),I=r(8029),B=r(7071),k=r(4554),v=r(4518),z=r(1724),P=r(5705),C=r(5177),S=r(6739);var _=e=>{let{...t}=e;const r=(0,j.v9)((e=>e.auth.user.token)),o=t.data,n=(0,f.Z)(),i=(0,C.Z)();(0,j.v9)((e=>e.customization));return o?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("h2",{children:"Datos del producto"}),(0,x.jsx)(P.J9,{initialValues:{name:o.name,code:o.code,description:o.desc,carpiId:o.carpiId,size:o.size,weight:o.weight,color:o.color,stock:o.stock,max:o.max,min:o.min,productInPromotion:o.productInPromotion,submit:null},validationSchema:z.Ry().shape({name:z.Z_().required("Debes ingresar un nombre de usuario")}),onSubmit:async(e,t)=>{let{setErrors:n,setStatus:d,setSubmitting:a}=t;try{const{submit:t,...n}=e,s=await h.editProductById(o.id,n,r);console.log(s),i.current&&(d({success:!0}),a(!1))}catch(s){i.current&&(d({success:!1}),n({submit:s.message}),a(!1))}},children:e=>{let{errors:r,handleBlur:o,handleChange:i,handleSubmit:d,isSubmitting:a,touched:s,values:c}=e;return(0,x.jsxs)("form",{noValidate:!0,onSubmit:d,...t,children:[(0,x.jsxs)(b.Z,{fullWidth:!0,error:Boolean(s.name&&r.name),sx:{...n.typography.customInput},children:[(0,x.jsx)(w.Z,{htmlFor:"outlined-adornment-product-name",children:"Nombre completo"}),(0,x.jsx)(I.Z,{id:"outlined-adornment-product-name",type:"text",value:c.name,name:"name",onBlur:o,onChange:i,inputProps:{}}),s.name&&r.name&&(0,x.jsx)(B.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.name})]}),(0,x.jsxs)(b.Z,{fullWidth:!0,error:Boolean(s.code&&r.code),sx:{...n.typography.customInput},children:[(0,x.jsx)(w.Z,{htmlFor:"outlined-adornment-product-name",children:"Codigo del producto"}),(0,x.jsx)(I.Z,{id:"outlined-adornment-product-name",type:"text",value:c.code,name:"code",onBlur:o,onChange:i,inputProps:{}}),s.code&&r.code&&(0,x.jsx)(B.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.code})]}),(0,x.jsxs)(b.Z,{fullWidth:!0,error:Boolean(s.description&&r.description),sx:{...n.typography.customInput},children:[(0,x.jsx)(w.Z,{htmlFor:"outlined-adornment-product-size",children:"Descripcion del producto"}),(0,x.jsx)(I.Z,{id:"outlined-adornment-product-size",type:"text",value:c.description,name:"description",onBlur:o,onChange:i,inputProps:{}}),s.description&&r.description&&(0,x.jsx)(B.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.description})]}),(0,x.jsxs)(b.Z,{fullWidth:!0,error:Boolean(s.carpiId&&r.carpiId),sx:{...n.typography.customInput},children:[(0,x.jsx)(w.Z,{htmlFor:"outlined-adornment-product-size",children:"Carpi id"}),(0,x.jsx)(I.Z,{id:"outlined-adornment-product-size",type:"text",value:c.carpiId,name:"carpiId",onBlur:o,onChange:i,inputProps:{}}),s.carpiId&&r.carpiId&&(0,x.jsx)(B.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.carpiId})]}),(0,x.jsxs)(b.Z,{fullWidth:!0,error:Boolean(s.size&&r.size),sx:{...n.typography.customInput},children:[(0,x.jsx)(w.Z,{htmlFor:"outlined-adornment-product-size",children:"Tama\xf1o del producto"}),(0,x.jsx)(I.Z,{id:"outlined-adornment-product-size",type:"text",value:c.size,name:"size",onBlur:o,onChange:i,inputProps:{}}),s.size&&r.size&&(0,x.jsx)(B.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.name})]}),(0,x.jsxs)(b.Z,{fullWidth:!0,error:Boolean(s.weight&&r.weight),sx:{...n.typography.customInput},children:[(0,x.jsx)(w.Z,{htmlFor:"outlined-adornment-product-size",children:"Peso del producto"}),(0,x.jsx)(I.Z,{id:"outlined-adornment-product-size",type:"text",value:c.weight,name:"weight",onBlur:o,onChange:i,inputProps:{}}),s.weight&&r.weight&&(0,x.jsx)(B.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.weight})]}),(0,x.jsxs)(b.Z,{fullWidth:!0,error:Boolean(s.color&&r.color),sx:{...n.typography.customInput},children:[(0,x.jsx)(w.Z,{htmlFor:"outlined-adornment-product-stock",children:"Color del producto"}),(0,x.jsx)(I.Z,{id:"outlined-adornment-product-stock",type:"number",value:c.color,name:"color",onBlur:o,onChange:i,inputProps:{}}),s.color&&r.color&&(0,x.jsx)(B.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.color})]}),(0,x.jsxs)(b.Z,{fullWidth:!0,error:Boolean(s.stock&&r.stock),sx:{...n.typography.customInput},children:[(0,x.jsx)(w.Z,{htmlFor:"outlined-adornment-product-stock",children:"Stock del producto"}),(0,x.jsx)(I.Z,{id:"outlined-adornment-product-stock",type:"number",value:c.stock,name:"stock",onBlur:o,onChange:i,inputProps:{}}),s.size&&r.size&&(0,x.jsx)(B.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.name})]}),(0,x.jsxs)(b.Z,{fullWidth:!0,error:Boolean(s.max&&r.max),sx:{...n.typography.customInput},children:[(0,x.jsx)(w.Z,{htmlFor:"outlined-adornment-product-stock",children:"Max"}),(0,x.jsx)(I.Z,{id:"outlined-adornment-product-stock",type:"number",value:c.max,name:"max",onBlur:o,onChange:i,inputProps:{}}),s.max&&r.max&&(0,x.jsx)(B.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.max})]}),(0,x.jsxs)(b.Z,{fullWidth:!0,error:Boolean(s.max&&r.max),sx:{...n.typography.customInput},children:[(0,x.jsx)(w.Z,{htmlFor:"outlined-adornment-product-stock",children:"Min"}),(0,x.jsx)(I.Z,{id:"outlined-adornment-product-stock",type:"number",value:c.min,name:"min",onBlur:o,onChange:i,inputProps:{}}),s.min&&r.min&&(0,x.jsx)(B.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.min})]}),(0,x.jsxs)(b.Z,{fullWidth:!0,error:Boolean(s.productInPromotion&&r.productInPromotion),sx:{...n.typography.customInput},children:[(0,x.jsx)(w.Z,{htmlFor:"outlined-adornment-product-stock",children:"En promocion"}),(0,x.jsx)(I.Z,{id:"outlined-adornment-product-stock",type:"boolean",value:c.productInPromotion,name:"productInPromotion",onBlur:o,onChange:i,inputProps:{}}),s.productInPromotion&&r.productInPromotion&&(0,x.jsx)(B.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.productInPromotion})]}),(0,x.jsx)(k.Z,{sx:{mt:2},children:(0,x.jsx)(S.Z,{children:(0,x.jsx)(v.Z,{disableElevation:!0,disabled:a,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Actualizar datos"})})})]})}})]}):(0,x.jsx)("p",{children:"Esperando..."})};var E=()=>{const e=(0,j.v9)((e=>e.auth.user.token)),[t,r]=(0,o.useState)(void 0),d=(0,n.UO)().id;return(0,o.useEffect)((()=>{y.Z.getById(d).then(r)}),[]),(0,x.jsx)(i.Z,{title:"Actualizar datos",secondary:(0,x.jsx)(Z,{id:d,token:e}),children:(0,x.jsx)(_,{data:t})})}}}]);
//# sourceMappingURL=948.3aa362eb.chunk.js.map