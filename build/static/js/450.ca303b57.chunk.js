"use strict";(self.webpackChunkberry_material_react_free=self.webpackChunkberry_material_react_free||[]).push([[450],{1882:function(e,t,r){r.d(t,{v:function(){return n}});const o=r(7).T5+"/api/v1/product/",n={GET_ALL_PRODUCTS:o+"?publish=false",GET_BY_ID:o,EDIT_BY_ID:o}},4646:function(e,t,r){r.d(t,{Z:function(){return l}});r(2791);var o=r(6934),n=r(9955),i=r(3767),a=r(890),s=(r(3337),r(5985),r(8009),r(184));const d=(0,o.ZP)(n.Z)((e=>{let{theme:t}=e;return{width:28,height:16,padding:0,display:"flex","&:active":{"& .MuiSwitch-thumb":{width:15},"& .MuiSwitch-switchBase.Mui-checked":{transform:"translateX(9px)"}},"& .MuiSwitch-switchBase":{padding:2,"&.Mui-checked":{transform:"translateX(12px)",color:"#fff","& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#177ddc":"#1890ff"}}},"& .MuiSwitch-thumb":{boxShadow:"0 2px 4px 0 rgb(0 35 11 / 20%)",width:12,height:12,borderRadius:6,transition:t.transitions.create(["width"],{duration:200})},"& .MuiSwitch-track":{borderRadius:8,opacity:1,backgroundColor:"dark"===t.palette.mode?"rgba(255,255,255,.35)":"rgba(0,0,0,.25)",boxSizing:"border-box"}}}));function l(e){let{disabledValue:t,activeValue:r,handler:o,defaultValue:n}=e;return(0,s.jsxs)(i.Z,{onChange:o,direction:"row",spacing:1,alignItems:"center",children:[(0,s.jsx)(a.Z,{children:t}),(0,s.jsx)(d,{defaultChecked:n,inputProps:{"aria-label":"ant design"}}),(0,s.jsx)(a.Z,{children:r})]})}},8009:function(e,t,r){r.d(t,{I4:function(){return o},hn:function(){return n}});const o={position:"bottom-left",hideProgressBar:!0,closeButton:!1,closeOnClick:!1,style:{boxShadow:"none",background:"#198754",color:"white",fontWeight:"600",fontSize:"0.745rem"}},n={position:"bottom-left",hideProgressBar:!0,closeButton:!1,closeOnClick:!1,style:{boxShadow:"none",background:"#ef3443",color:"white",fontSize:"0.8rem"}}},5177:function(e,t,r){var o=r(2791);t.Z=()=>{const e=(0,o.useRef)(!0);return(0,o.useEffect)((()=>()=>{e.current=!1}),[]),e}},2412:function(e,t,r){var o=r(3263),n=r(1882);t.Z=new class{async getAll(){return(await o.Z.get(n.v.GET_ALL_PRODUCTS)).data}async getById(e){return(await o.Z.get(`${n.v.GET_BY_ID}/${e}`)).data}}},3337:function(e,t,r){var o=r(3263),n=r(8009),i=r(5985),a=r(1882);t.Z=new class{constructor(){}async toggleVisibility(e,t,r){try{await o.Z.patch(a.v.EDIT_BY_ID+e,{published:t},{headers:{Authorization:`Bearer ${r}`}})&&(0,i.Am)("Se ha cambiado con exito",n.I4)}catch(s){console.log(s)}}async editById(e,t,r){try{const s=await o.Z.patch(a.v.EDIT_BY_ID+e,t,{headers:{Authorization:`Bearer ${r}`}});return s&&(0,i.Am)("Se ha modificado con exito, refresca la pagina",n.I4),s}catch(s){console.log(s)}}async create(){try{return o.Z.patch()}catch(e){}}}},3450:function(e,t,r){r.r(t),r.d(t,{default:function(){return P}});var o=r(2791),n=r(6871),i=r(3735),a=r(4646),s=r(2412),d=r(3337),l=r(9434),c=r(3967),u=r(8096),h=r(4925),p=r(8029),m=r(7071),x=r(4554),g=r(4518),Z=(r(1724),r(5705)),j=r(5177),f=r(6739),b=r(5289),y=r(7123),w=r(9157),B=r(1691),I=r(5661),v=r(184);function k(){const[e,t]=o.useState(!1),r=()=>{t(!1)};return(0,v.jsxs)(o.Fragment,{children:[(0,v.jsx)(g.Z,{variant:"outlined",onClick:()=>{t(!0)},children:"Cargar imagen"}),(0,v.jsxs)(b.Z,{fullWidth:!0,maxWidth:"sm",open:e,onClose:r,children:[(0,v.jsx)(I.Z,{children:"Imagen del producto"}),(0,v.jsx)(w.Z,{children:(0,v.jsx)(B.Z,{children:"Aqui podras cambiar las imagenes del producto"})}),(0,v.jsx)(y.Z,{children:(0,v.jsx)(g.Z,{onClick:r,children:"Close"})})]})]})}var C=e=>{let{...t}=e;const r=(0,l.v9)((e=>e.auth.user.token)),o=t.data,n=(0,c.Z)(),i=(0,j.Z)();(0,l.v9)((e=>e.customization));return console.log(o),o?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"flex-between",children:[(0,v.jsx)("h2",{children:"Datos del producto"}),(0,v.jsx)(k,{})]}),(0,v.jsx)(Z.J9,{initialValues:{name:o.name,description:o.description,size:o.size,weight:o.weight,color:o.color,max:o.max,min:o.min,productInPromotion:o.productInPromotion,submit:null},onSubmit:async(e,t)=>{let{setErrors:n,setStatus:a,setSubmitting:s}=t;try{const{submit:t,...n}=e;await d.Z.editById(o.id,n,r);i.current&&(a({success:!0}),s(!1))}catch(l){i.current&&(a({success:!1}),n({submit:l.message}),s(!1))}},children:e=>{let{errors:r,handleBlur:o,handleChange:i,handleSubmit:a,isSubmitting:s,touched:d,values:l}=e;return(0,v.jsxs)("form",{noValidate:!0,onSubmit:a,...t,children:[(0,v.jsxs)(u.Z,{fullWidth:!0,error:Boolean(d.name&&r.name),sx:{...n.typography.customInput},children:[(0,v.jsx)(h.Z,{htmlFor:"outlined-adornment-product-name",children:"Nombre completo"}),(0,v.jsx)(p.Z,{id:"outlined-adornment-product-name",type:"text",value:l.name,name:"name",onBlur:o,onChange:i,inputProps:{}}),d.name&&r.name&&(0,v.jsx)(m.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.name})]}),(0,v.jsxs)(u.Z,{fullWidth:!0,error:Boolean(d.description&&r.description),sx:{...n.typography.customInput},children:[(0,v.jsx)(h.Z,{htmlFor:"outlined-adornment-product-size",children:"Descripcion del producto"}),(0,v.jsx)(p.Z,{id:"outlined-adornment-product-size",type:"text",value:l.description,name:"description",onBlur:o,onChange:i,inputProps:{}}),d.description&&r.description&&(0,v.jsx)(m.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.description})]}),(0,v.jsxs)(u.Z,{fullWidth:!0,error:Boolean(d.size&&r.size),sx:{...n.typography.customInput},children:[(0,v.jsx)(h.Z,{htmlFor:"outlined-adornment-product-size",children:"Tama\xf1o del producto"}),(0,v.jsx)(p.Z,{id:"outlined-adornment-product-size",type:"text",value:l.size,name:"size",onBlur:o,onChange:i,inputProps:{}}),d.size&&r.size&&(0,v.jsx)(m.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.name})]}),(0,v.jsxs)(u.Z,{fullWidth:!0,error:Boolean(d.weight&&r.weight),sx:{...n.typography.customInput},children:[(0,v.jsx)(h.Z,{htmlFor:"outlined-adornment-product-size",children:"Peso del producto"}),(0,v.jsx)(p.Z,{id:"outlined-adornment-product-size",type:"text",value:l.weight,name:"weight",onBlur:o,onChange:i,inputProps:{}}),d.weight&&r.weight&&(0,v.jsx)(m.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.weight})]}),(0,v.jsxs)(u.Z,{fullWidth:!0,error:Boolean(d.color&&r.color),sx:{...n.typography.customInput},children:[(0,v.jsx)(h.Z,{htmlFor:"outlined-adornment-product-stock",children:"Color del producto"}),(0,v.jsx)(p.Z,{id:"outlined-adornment-product-stock",type:"number",value:l.color,name:"color",onBlur:o,onChange:i,inputProps:{}}),d.color&&r.color&&(0,v.jsx)(m.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.color})]}),(0,v.jsxs)(u.Z,{fullWidth:!0,error:Boolean(d.max&&r.max),sx:{...n.typography.customInput},children:[(0,v.jsx)(h.Z,{htmlFor:"outlined-adornment-product-stock",children:"Max"}),(0,v.jsx)(p.Z,{id:"outlined-adornment-product-stock",type:"number",value:l.max,name:"max",onBlur:o,onChange:i,inputProps:{}}),d.max&&r.max&&(0,v.jsx)(m.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.max})]}),(0,v.jsxs)(u.Z,{fullWidth:!0,error:Boolean(d.max&&r.max),sx:{...n.typography.customInput},children:[(0,v.jsx)(h.Z,{htmlFor:"outlined-adornment-product-stock",children:"Min"}),(0,v.jsx)(p.Z,{id:"outlined-adornment-product-stock",type:"number",value:l.min,name:"min",onBlur:o,onChange:i,inputProps:{}}),d.min&&r.min&&(0,v.jsx)(m.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.min})]}),(0,v.jsxs)(u.Z,{fullWidth:!0,error:Boolean(d.productInPromotion&&r.productInPromotion),sx:{...n.typography.customInput},children:[(0,v.jsx)(h.Z,{htmlFor:"outlined-adornment-product-stock",children:"En promocion"}),(0,v.jsx)(p.Z,{id:"outlined-adornment-product-stock",type:"boolean",value:l.productInPromotion,name:"productInPromotion",onBlur:o,onChange:i,inputProps:{}}),d.productInPromotion&&r.productInPromotion&&(0,v.jsx)(m.Z,{error:!0,id:"standard-weight-helper-text--register",children:r.productInPromotion})]}),(0,v.jsx)(x.Z,{sx:{mt:2},children:(0,v.jsx)(f.Z,{children:(0,v.jsx)(g.Z,{disableElevation:!0,disabled:s,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Actualizar datos"})})})]})}})]}):(0,v.jsx)("p",{children:"Esperando..."})};var P=()=>{const e=(0,l.v9)((e=>e.auth.user.token)),[t,r]=(0,o.useState)(void 0),c=(0,n.UO)().id;(0,o.useEffect)((()=>{s.Z.getById(c).then(r)}),[]);return(0,v.jsx)(i.Z,{title:"Actualizar datos",secondary:t&&(0,v.jsx)(a.Z,{activeValue:"Visible en la tienda",disabledValue:"Escondido",handler:()=>d.Z.toggleVisibility(c,!t.published,e),defaultValue:t.published,token:e}),children:(0,v.jsx)(C,{data:t})})}}}]);
//# sourceMappingURL=450.ca303b57.chunk.js.map