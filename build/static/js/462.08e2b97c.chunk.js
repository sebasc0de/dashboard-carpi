"use strict";(self.webpackChunkberry_material_react_free=self.webpackChunkberry_material_react_free||[]).push([[462],{4387:function(e,t,a){a(2791);t.Z=a.p+"static/media/social-google.a57081bd95c2519caad91216a8dba3ad.svg"},1882:function(e,t,a){a.d(t,{v:function(){return i}});const r=a(7).T5+"/api/v1/product/",i={GET_ALL_PRODUCTS:r+"?publish=false",GET_BY_ID:r,EDIT_BY_ID:r}},814:function(e,t,a){a.d(t,{_:function(){return r},v:function(){return i}});const r=a(7).T5+"/api/v1/roles",i={GET_ALL:r,GET_BY_ID:r,EDIT_BY_ID:r}},4812:function(e,t,a){a.d(t,{_:function(){return r},v:function(){return i}});const r=a(7).T5+"/api/v1/user/",i={GET_ALL:r,GET_BY_ID:r,EDIT_BY_ID:r}},4646:function(e,t,a){a.d(t,{Z:function(){return d}});a(2791);var r=a(6934),i=a(9955),n=a(3767),s=a(890),o=(a(3337),a(5985),a(8009),a(184));const l=(0,r.ZP)(i.Z)((e=>{let{theme:t}=e;return{width:28,height:16,padding:0,display:"flex","&:active":{"& .MuiSwitch-thumb":{width:15},"& .MuiSwitch-switchBase.Mui-checked":{transform:"translateX(9px)"}},"& .MuiSwitch-switchBase":{padding:2,"&.Mui-checked":{transform:"translateX(12px)",color:"#fff","& + .MuiSwitch-track":{opacity:1,backgroundColor:"dark"===t.palette.mode?"#177ddc":"#1890ff"}}},"& .MuiSwitch-thumb":{boxShadow:"0 2px 4px 0 rgb(0 35 11 / 20%)",width:12,height:12,borderRadius:6,transition:t.transitions.create(["width"],{duration:200})},"& .MuiSwitch-track":{borderRadius:8,opacity:1,backgroundColor:"dark"===t.palette.mode?"rgba(255,255,255,.35)":"rgba(0,0,0,.25)",boxSizing:"border-box"}}}));function d(e){let{disabledValue:t,activeValue:a,handler:r,defaultValue:i}=e;return(0,o.jsxs)(n.Z,{onChange:r,direction:"row",spacing:1,alignItems:"center",children:[(0,o.jsx)(s.Z,{children:t}),(0,o.jsx)(l,{defaultChecked:i,inputProps:{"aria-label":"ant design"}}),(0,o.jsx)(s.Z,{children:a})]})}},8009:function(e,t,a){a.d(t,{I4:function(){return r},hn:function(){return i}});const r={position:"bottom-left",hideProgressBar:!0,closeButton:!1,closeOnClick:!1,style:{boxShadow:"none",background:"#198754",color:"white",fontWeight:"600",fontSize:"0.745rem"}},i={position:"bottom-left",hideProgressBar:!0,closeButton:!1,closeOnClick:!1,style:{boxShadow:"none",background:"#ef3443",color:"white",fontSize:"0.8rem"}}},5177:function(e,t,a){var r=a(2791);t.Z=()=>{const e=(0,r.useRef)(!0);return(0,r.useEffect)((()=>()=>{e.current=!1}),[]),e}},3325:function(e,t,a){var r=a(3263),i=a(814);t.Z=new class{async getAll(e){return(await r.Z.get(i.v.GET_ALL,{headers:{Authorization:`Bearer ${e}`}})).data}async getById(e){return(await r.Z.get(`${i.v.GET_BY_ID}/${e}`)).data}}},3337:function(e,t,a){var r=a(3263),i=a(8009),n=a(5985),s=a(1882);t.Z=new class{constructor(){}async toggleVisibility(e,t,a){try{await r.Z.patch(s.v.EDIT_BY_ID+e,{published:t},{headers:{Authorization:`Bearer ${a}`}})&&(0,n.Am)("Se ha cambiado con exito",i.I4)}catch(o){console.log(o)}}async editById(e,t,a){try{const o=await r.Z.patch(s.v.EDIT_BY_ID+e,t,{headers:{Authorization:`Bearer ${a}`}});return o&&(0,n.Am)("Se ha modificado con exito, refresca la pagina",i.I4),o}catch(o){console.log(o)}}async create(){try{return r.Z.patch()}catch(e){}}}},9951:function(e,t,a){a.d(t,{V:function(){return i},X:function(){return n}});var r=a(8781);const i=e=>e<2?{label:"Poor",color:r.Z.errorMain}:e<3?{label:"Weak",color:r.Z.warningDark}:e<4?{label:"Normal",color:r.Z.orangeMain}:e<5?{label:"Good",color:r.Z.successMain}:e<6?{label:"Strong",color:r.Z.successDark}:{label:"Poor",color:r.Z.errorMain},n=e=>{let t=0;return e.length>5&&(t+=1),e.length>7&&(t+=1),(e=>new RegExp(/[0-9]/).test(e))(e)&&(t+=1),(e=>new RegExp(/[!#@$%^&*)(+=._-]/).test(e))(e)&&(t+=1),(e=>new RegExp(/[a-z]/).test(e)&&new RegExp(/[A-Z]/).test(e))(e)&&(t+=1),t}},4462:function(e,t,a){a.r(t),a.d(t,{default:function(){return R}});var r=a(2791),i=a(6871),n=a(9434),s=a(3735),o=a(4812),l=a(8009),d=a(5985),c=a(3263);var u=new class{async getUserById(e,t){return(await c.Z.get(o.v.EDIT_BY_ID+e,{headers:{Authorization:`Bearer ${t}`}})).data}async editUserById(e,t,a){await c.Z.patch(o._+e,t,{headers:{Authorization:`Bearer ${a}`}})&&(0,d.Am)("El usuario se modifico con exito",l.I4)}async toggleUserState(e,t,a){try{const r=await c.Z.patch(o.v.EDIT_BY_ID+e,{isActive:t},{headers:{Authorization:`Bearer ${a}`}});console.log(r),r&&(0,d.Am)("Excelente",l.I4)}catch(r){console.log(r)}}},h=a(3967),m=a(8096),p=a(4925),g=a(8029),b=a(7071),f=a(4554),x=a(1889),v=a(890),Z=a(4518),y=a(1724),w=a(5705),j=a(5177),C=a(6739),S=a(3786),I=a(9321),B=a(3325),_=a(184);function k(){const e=(0,n.v9)((e=>e.auth.user.token)),[t,a]=r.useState(""),[i,s]=r.useState([]);return(0,r.useEffect)((()=>{B.Z.getAll(e).then(s)}),[]),(0,_.jsx)("div",{children:(0,_.jsxs)(m.Z,{variant:"standard",sx:{m:1,minWidth:120},children:[(0,_.jsx)(p.Z,{id:"demo-simple-select-standard-label",children:"Rol de usuario"}),(0,_.jsx)(I.Z,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",value:t,onChange:e=>{a(e.target.value)},label:"Rol de usuario",children:i.length>1&&i.map((e=>(0,_.jsx)(S.Z,{value:e.name,children:e.name},e.id)))})]})})}var E=e=>{let{...t}=e;const a=(0,n.v9)((e=>e.auth.user.token)),i=t.data,s=(0,h.Z)(),o=(0,j.Z)(),[l,d]=((0,n.v9)((e=>e.customization)),(0,r.useState)(0)),[c,S]=(0,r.useState)();return i?(0,_.jsxs)(_.Fragment,{children:[(0,_.jsxs)("div",{className:"flex-between",children:[(0,_.jsx)("h2",{children:"Datos de la cuenta"}),(0,_.jsx)(k,{})]}),(0,_.jsx)(w.J9,{initialValues:{fullName:i.fullName,email:i.email,submit:null},validationSchema:y.Ry().shape({fullName:y.Z_().required("Debes ingresar un nombre de usuario"),email:y.Z_().email("Debe ser un email valido").max(255).required("El email es requerido")}),onSubmit:async(e,t)=>{let{setErrors:r,setStatus:n,setSubmitting:s}=t;try{const{submit:t,...r}=e;u.editUserById(i.id,r,a),o.current&&(n({success:!0}),s(!1))}catch(l){o.current&&(n({success:!1}),r({submit:l.message}),s(!1))}},children:e=>{let{errors:a,handleBlur:r,handleChange:i,handleSubmit:n,isSubmitting:o,touched:d,values:u}=e;return(0,_.jsxs)("form",{noValidate:!0,onSubmit:n,...t,children:[(0,_.jsxs)(m.Z,{fullWidth:!0,error:Boolean(d.email&&a.email),sx:{...s.typography.customInput},children:[(0,_.jsx)(p.Z,{htmlFor:"outlined-adornment-email-register",children:"Nombre completo"}),(0,_.jsx)(g.Z,{id:"outlined-adornment-email-register",type:"email",value:u.fullName,name:"fullName",onBlur:r,onChange:i,inputProps:{}}),d.fullName&&a.fullName&&(0,_.jsx)(b.Z,{error:!0,id:"standard-weight-helper-text--register",children:a.fullName})]}),(0,_.jsxs)(m.Z,{fullWidth:!0,error:Boolean(d.email&&a.email),sx:{...s.typography.customInput},children:[(0,_.jsx)(p.Z,{htmlFor:"outlined-adornment-email-register",children:"Correo electronico"}),(0,_.jsx)(g.Z,{id:"outlined-adornment-email-register",type:"email",value:u.email,name:"email",onBlur:r,onChange:i,inputProps:{}}),d.email&&a.email&&(0,_.jsx)(b.Z,{error:!0,id:"standard-weight-helper-text--register",children:a.email})]}),0!==l&&(0,_.jsx)(m.Z,{fullWidth:!0,children:(0,_.jsx)(f.Z,{sx:{mb:2},children:(0,_.jsxs)(x.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,_.jsx)(x.ZP,{item:!0,children:(0,_.jsx)(f.Z,{style:{backgroundColor:null===c||void 0===c?void 0:c.color},sx:{width:85,height:8,borderRadius:"7px"}})}),(0,_.jsx)(x.ZP,{item:!0,children:(0,_.jsx)(v.Z,{variant:"subtitle1",fontSize:"0.75rem",children:null===c||void 0===c?void 0:c.label})})]})})}),(0,_.jsx)(f.Z,{sx:{mt:2},children:(0,_.jsx)(C.Z,{children:(0,_.jsx)(Z.Z,{disableElevation:!0,disabled:o,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Actualizar datos"})})})]})}})]}):(0,_.jsx)("p",{children:"Esperando..."})},$=a(5193),D=a(3466),z=a(3400),M=(a(4387),a(9951)),A=a(3746),T=a(165),V=a(8835);var P=e=>{let{...t}=e;const a=(0,h.Z)(),i=(0,j.Z)(),[s,o]=((0,$.Z)(a.breakpoints.down("md")),(0,n.v9)((e=>e.customization)),(0,r.useState)(!1)),[l,d]=(0,r.useState)(!0),[c,u]=(0,r.useState)(0),[S,I]=(0,r.useState)(),B=()=>{o(!s)},k=e=>{e.preventDefault()},E=e=>{const t=(0,M.X)(e);u(t),I((0,M.V)(t))};return(0,r.useEffect)((()=>{E("123456")}),[]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)("h2",{style:{marginTop:"4rem"},children:"Seguridad de la cuenta"}),(0,_.jsx)(w.J9,{initialValues:{password:"",passwordConfirmation:"",submit:null},validationSchema:y.Ry().shape({password:y.Z_().max(255).required("Ingresa una contrase\xf1a"),passwordConfirmation:y.Z_().oneOf([y.iH("password"),null],"Las contrase\xf1as no coinciden")}),onSubmit:async(e,t)=>{let{setErrors:a,setStatus:r,setSubmitting:n}=t;try{const{submit:t,...a}=e;await V.Z.registerWithEmailAndPassword(a);i.current&&(r({success:!0}),n(!1))}catch(s){i.current&&(r({success:!1}),a({submit:s.message}),n(!1))}},children:e=>{let{errors:r,handleBlur:i,handleChange:n,handleSubmit:o,isSubmitting:l,touched:d,values:u}=e;return(0,_.jsxs)("form",{noValidate:!0,onSubmit:o,...t,children:[(0,_.jsxs)(m.Z,{fullWidth:!0,error:Boolean(d.password&&r.password),sx:{...a.typography.customInput},children:[(0,_.jsx)(p.Z,{htmlFor:"outlined-adornment-password-register",children:"Contrase\xf1a"}),(0,_.jsx)(g.Z,{id:"outlined-adornment-password-register",type:s?"text":"password",value:u.password,name:"password",label:"Contrase\xf1a",onBlur:i,onChange:e=>{n(e),E(e.target.value)},endAdornment:(0,_.jsx)(D.Z,{position:"end",children:(0,_.jsx)(z.Z,{"aria-label":"toggle password visibility",onClick:B,onMouseDown:k,edge:"end",size:"large",children:s?(0,_.jsx)(A.Z,{}):(0,_.jsx)(T.Z,{})})}),inputProps:{}}),d.password&&r.password&&(0,_.jsx)(b.Z,{error:!0,id:"standard-weight-helper-text-password-register",children:r.password})]}),(0,_.jsxs)(m.Z,{fullWidth:!0,error:Boolean(d.passwordConfirmation&&r.passwordConfirmation),sx:{...a.typography.customInput},children:[(0,_.jsx)(p.Z,{htmlFor:"outlined-adornment-password-register",children:"Confirmar contrase\xf1a"}),(0,_.jsx)(g.Z,{id:"outlined-adornment-password-register",type:s?"text":"password",value:u.passwordConfirmation,name:"passwordConfirmation",label:"Confirmar contrase\xf1a",onBlur:i,onChange:e=>{n(e),E(e.target.value)},endAdornment:(0,_.jsx)(D.Z,{position:"end",children:(0,_.jsx)(z.Z,{"aria-label":"toggle password visibility",onClick:B,onMouseDown:k,edge:"end",size:"large",children:s?(0,_.jsx)(A.Z,{}):(0,_.jsx)(T.Z,{})})}),inputProps:{}}),d.passwordConfirmation&&r.passwordConfirmation&&(0,_.jsx)(b.Z,{error:!0,id:"standard-weight-helper-text-password-register",children:r.passwordConfirmation})]}),0!==c&&(0,_.jsx)(m.Z,{fullWidth:!0,children:(0,_.jsx)(f.Z,{sx:{mb:2},children:(0,_.jsxs)(x.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,_.jsx)(x.ZP,{item:!0,children:(0,_.jsx)(f.Z,{style:{backgroundColor:null===S||void 0===S?void 0:S.color},sx:{width:85,height:8,borderRadius:"7px"}})}),(0,_.jsx)(x.ZP,{item:!0,children:(0,_.jsx)(v.Z,{variant:"subtitle1",fontSize:"0.75rem",children:null===S||void 0===S?void 0:S.label})})]})})}),(0,_.jsx)(f.Z,{sx:{mt:2},children:(0,_.jsx)(C.Z,{children:(0,_.jsx)(Z.Z,{disableElevation:!0,disabled:l,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"secondary",children:"Cambiar contrase\xf1a"})})})]})}})]})},O=a(4646);var R=()=>{const e=(0,n.v9)((e=>e.auth.user.token)),[t,a]=(0,r.useState)(void 0),o=(0,i.UO)().id;(0,r.useEffect)((()=>{u.getUserById(o,e).then(a)}),[]);return(0,_.jsxs)(s.Z,{title:"Actualizar datos",secondary:t&&(0,_.jsx)(O.Z,{activeValue:"Habilitado",disabledValue:"Deshabilitado",handler:()=>u.toggleUserState(t.id,!1,e),defaultValue:t.isActive}),children:[(0,_.jsx)(E,{data:t}),(0,_.jsx)(P,{})]})}},3746:function(e,t,a){var r=a(4836);t.Z=void 0;var i=r(a(5649)),n=a(184),s=(0,i.default)((0,n.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");t.Z=s},165:function(e,t,a){var r=a(4836);t.Z=void 0;var i=r(a(5649)),n=a(184),s=(0,i.default)((0,n.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");t.Z=s},3786:function(e,t,a){a.d(t,{Z:function(){return S}});var r=a(3366),i=a(7462),n=a(2791),s=a(8182),o=a(4419),l=a(2065),d=a(6934),c=a(3736),u=a(6199),h=a(533),m=a(162),p=a(2071),g=a(133),b=a(6014),f=a(9849),x=a(5878),v=a(1217);function Z(e){return(0,v.Z)("MuiMenuItem",e)}var y=(0,x.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),w=a(184);const j=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],C=(0,d.ZP)(h.Z,{shouldForwardProp:e=>(0,d.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,i.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${y.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${y.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${y.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,l.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${y.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${y.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${g.Z.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${g.Z.inset}`]:{marginLeft:52},[`& .${f.Z.root}`]:{marginTop:0,marginBottom:0},[`& .${f.Z.inset}`]:{paddingLeft:36},[`& .${b.Z.root}`]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,i.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${b.Z.root} svg`]:{fontSize:"1.25rem"}}))}));var S=n.forwardRef((function(e,t){const a=(0,c.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:l=!1,component:d="li",dense:h=!1,divider:g=!1,disableGutters:b=!1,focusVisibleClassName:f,role:x="menuitem",tabIndex:v,className:y}=a,S=(0,r.Z)(a,j),I=n.useContext(u.Z),B=n.useMemo((()=>({dense:h||I.dense||!1,disableGutters:b})),[I.dense,h,b]),_=n.useRef(null);(0,m.Z)((()=>{l&&_.current&&_.current.focus()}),[l]);const k=(0,i.Z)({},a,{dense:B.dense,divider:g,disableGutters:b}),E=(e=>{const{disabled:t,dense:a,divider:r,disableGutters:n,selected:s,classes:l}=e,d={root:["root",a&&"dense",t&&"disabled",!n&&"gutters",r&&"divider",s&&"selected"]},c=(0,o.Z)(d,Z,l);return(0,i.Z)({},l,c)})(a),$=(0,p.Z)(_,t);let D;return a.disabled||(D=void 0!==v?v:-1),(0,w.jsx)(u.Z.Provider,{value:B,children:(0,w.jsx)(C,(0,i.Z)({ref:$,role:x,tabIndex:D,component:d,focusVisibleClassName:(0,s.Z)(E.focusVisible,f),className:(0,s.Z)(E.root,y)},S,{ownerState:k,classes:E}))})}))}}]);
//# sourceMappingURL=462.08e2b97c.chunk.js.map